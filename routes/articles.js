var express=require("express"),router=express.Router(),Article=require("../models/articles");router.get("/",function(e,r){r.render("api")}),router.get("/articles",function(e,r){Article.getArticles(function(e,t){if(e)throw e;r.json(t)})}),router.post("/articles/add",function(e,r){var t=e.body.title,o=e.body.content;e.checkBody("title","Title is required").notEmpty(),e.checkBody("content","Content is required").notEmpty();var i=e.validationErrors();if(i)r.render("index",{errors:i});else{console.log("Success");var c=new Article({title:t,content:o});Article.addArticle(c,function(e,r){if(e)throw e;console.log(r)}),e.flash("success_msg","Article saved"),r.redirect("/")}}),module.exports=router;
//# sourceMappingURL=./articles.js.map